import{_ as c,a as f,b as h}from"./submit.component.vue_vue_type_style_index_0_scope_true_lang-BBdNtaqW.js";import{F as _,g as v,a as w,h as g,r as b,c as i,I as U,d as C,b as V,w as p,P as k,o as x,e as u,f as r}from"./index-Ch-kxdx7.js";const y=e=>e.length<3?"The username must have more than 3 characters.":"",$=e=>{if(e.length<12)return"The password must have more than 12 characters.";if(/[A-Z]/.test(e))if(/[a-z]/.test(e))if(/\d/.test(e)){if(!/[@#$%&]/.test(e))return"Must have at least one special character from the following: @#$%&"}else return"It must contain at least one number.";else return"Must have at least one lowercase letter";else return"Must have at least one uppercase letter";return""},A=()=>{let e=new _(v);const s=w(),{getData:o}=g();let a=b({username:"",password:""}),t=i(()=>({username:y(a.value.username),password:$(a.value.password)})),d=i(()=>t.value.username===""&&t.value.password==="");return{data:a,errors:t,handle_submit:async n=>{n.preventDefault(),U.promise(e.postJson(a.value),{loading:"Loading...",success:m=>(s.push({name:"users"}),o(),"Success"),error:m=>m}),a.value.username="",a.value.password=""},form_valid:d}},M=C({__name:"add_user.page",setup(e){const{data:s,errors:o,handle_submit:a,form_valid:t}=A();return(d,l)=>(x(),V(k,null,{default:p(()=>[u(h,{title:"Create your Account"},{default:p(()=>[u(c,{label:"Username",modelValue:r(s).username,"onUpdate:modelValue":l[0]||(l[0]=n=>r(s).username=n),error:r(o).username,placeholder:"username",type:"text",required:"",autofocus:"",spellcheck:"false"},null,8,["modelValue","error"]),u(c,{label:"Password",modelValue:r(s).password,"onUpdate:modelValue":l[1]||(l[1]=n=>r(s).password=n),error:r(o).password,placeholder:"•••••••••",type:"password",required:""},null,8,["modelValue","error"]),u(f,{text:"Create Account",onClick:r(a),disabled:!r(t)},null,8,["onClick","disabled"])]),_:1})]),_:1}))}});export{M as default};
