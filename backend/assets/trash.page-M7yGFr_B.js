import{_ as c,a as h,b as m}from"./file.component.vue_vue_type_style_index_0_scope_true_lang-BPOGu3Rs.js";import{d as u,o as n,b as o,s as d,I as p,t as _,w as f,l as i,f as l,j as g,m as z,n as k}from"./index-Ch-kxdx7.js";import"./submit.component.vue_vue_type_style_index_0_scope_true_lang-BBdNtaqW.js";const D=u({__name:"trash-file.component",props:{path:{type:String,required:!0},size:{type:String,required:!0},name:{type:String,required:!0}},setup(e){return(t,r)=>(n(),o(c,{path:e.path,size:e.size,name:e.name,"show-link":e.path.includes(".")},null,8,["path","size","name","show-link"]))}}),w=()=>{let e=h();const t=r=>{r.preventDefault(),p.promise(fetch(_,{method:"DELETE"}),{loading:"Loading...",success:()=>"Success",error:s=>s})};return d(async()=>await e.getTrash()),{files:e,handleDelete:t}},y={class:"DeleteTrash"},S={class:"Files"},C=u({__name:"trash.page",setup(e){let t=w();return(r,s)=>(n(),o(m,null,{default:f(()=>[i("div",y,[i("button",{onClick:s[0]||(s[0]=(...a)=>l(t).handleDelete&&l(t).handleDelete(...a))},"Permanently delete")]),i("div",S,[(n(!0),g(k,null,z(l(t).files.trash,a=>(n(),o(D,{path:a.path,size:a.size,name:a.name},null,8,["path","size","name"]))),256))])]),_:1}))}});export{C as default};
